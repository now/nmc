AT_NMC_CHECK_TRANSFORM([Test indent rules: continuation],
[T

  1
  2],
[  <title>T</title>
  <p>1
  2</p>])

AT_NMC_CHECK_TRANSFORM([Test indent rules: section continuation],
[T

§ S

    1
    2],
[  <title>T</title>
  <section>
    <title>S</title>
    <p>1
    2</p>
  </section>])

AT_NMC_CHECK_TRANSFORM([Test indent rules: section concatenation],
[T

§ S

    1

    2],
[  <title>T</title>
  <section>
    <title>S</title>
    <p>1</p>
    <p>2</p>
  </section>])

AT_NMC_CHECK_TRANSFORM([Test indent rules: first block in section is non-paragraph],
[Title

§ Section

  • List],
[  <title>Title</title>
  <section>
    <title>Section</title>
    <itemization>
      <item>
        <p>List</p>
      </item>
    </itemization>
  </section>])

AT_NMC_CHECK_TRANSFORM([Test indent rules: first block in an item is a nested item],
[T

•   1

  •   2],
[  <title>T</title>
  <itemization>
    <item>
      <p>1</p>
      <itemization>
        <item>
          <p>2</p>
        </item>
      </itemization>
    </item>
  </itemization>])


AT_NMC_CHECK_TRANSFORM([Test indent rules: first block in an item is a tightly nested item],
[T

•   1
  •   2],
[  <title>T</title>
  <itemization>
    <item>
      <p>1</p>
      <itemization>
        <item>
          <p>2</p>
        </item>
      </itemization>
    </item>
  </itemization>])

AT_NMC_CHECK_TRANSFORM([Test indent rules: an item followed by a paragraph],
[T

•   1

  2],
[  <title>T</title>
  <itemization>
    <item>
      <p>1</p>
    </item>
  </itemization>
  <p>2</p>])

AT_NMC_CHECK_TRANSFORM([Test indent rules: an item containing two paragraphs followed by a paragraph],
[T

•   1

    2

  3],
[  <title>T</title>
  <itemization>
    <item>
      <p>1</p>
      <p>2</p>
    </item>
  </itemization>
  <p>3</p>])

AT_NMC_CHECK_TRANSFORM([Test indent rules: an item containing two paragraphs followed by an item],
[T

•   1

    2

•   3],
[  <title>T</title>
  <itemization>
    <item>
      <p>1</p>
      <p>2</p>
    </item>
    <item>
      <p>3</p>
    </item>
  </itemization>])

AT_NMC_CHECK_TRANSFORM([Test indent rules: an item containing one paragraph spread on two lines],
[T

•   1
    2],
[  <title>T</title>
  <itemization>
    <item>
      <p>1
    2</p>
    </item>
  </itemization>])

AT_NMC_CHECK_TRANSFORM([Test indent rules: an item containing one paragraph spread on two lines followed by a second paragraph],
[T

•   1
    2

    3],
[  <title>T</title>
  <itemization>
    <item>
      <p>1
    2</p>
      <p>3</p>
    </item>
  </itemization>])

AT_NMC_CHECK_TRANSFORM([Test indent rules: an item containing one paragraph spread on two lines followed by a second paragraph and a paragraph],
[T

•   1
    2

    3

  4],
[  <title>T</title>
  <itemization>
    <item>
      <p>1
    2</p>
      <p>3</p>
    </item>
  </itemization>
  <p>4</p>])

AT_NMC_CHECK_TRANSFORM([Test indent rules: an item containing two paragraphs followed by a paragraph beginning with a bol symbol],
[T

•   1

    2

¶  —],
[  <title>T</title>
  <itemization>
    <item>
      <p>1</p>
      <p>2</p>
    </item>
  </itemization>
  <p>—</p>])
