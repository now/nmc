AT_NMC_CHECK_TRANSFORM([Paragraph],
[T

  Paragraph],
[  <title>T</title>
  <p>Paragraph</p>])

AT_NMC_CHECK_TRANSFORM([Two paragraphs],
[T

  1

  2],
[  <title>T</title>
  <p>1</p>
  <p>2</p>])

AT_NMC_CHECK_FAIL_TRANSFORM([Broken paragraph],
[T

 W],
[3:1: missing ‘ ’ after ‘ ’ at beginning of line])

AT_NMC_CHECK_TRANSFORM([Two-item itemization],
[T

•   1
•   2],
[  <title>T</title>
  <itemization>
    <item>
      <p>1</p>
    </item>
    <item>
      <p>2</p>
    </item>
  </itemization>])

AT_NMC_CHECK_TRANSFORM([Itemization with inline],
[T

•   ‹C›],
[  <title>T</title>
  <itemization>
    <item>
      <p><code>C</code></p>
    </item>
  </itemization>])

AT_NMC_CHECK_FAIL_TRANSFORM([Broken itemization],
[T

•W],
[3:4: missing “   ” after ‘•’ at beginning of line])

AT_NMC_CHECK_FAIL_TRANSFORM([Broken itemization 2],
[T

• W],
[3:5: missing “  ” after “• ” at beginning of line])

AT_NMC_CHECK_FAIL_TRANSFORM([Broken itemization 3],
[T

•  W],
[3:6: missing ‘ ’ after “•  ” at beginning of line])

AT_NMC_CHECK_TRANSFORM([Two-item enumeration],
[T

₁   1
₂   2],
[  <title>T</title>
  <enumeration>
    <item>
      <p>1</p>
    </item>
    <item>
      <p>2</p>
    </item>
  </enumeration>])

AT_NMC_CHECK_FAIL_TRANSFORM([Broken enumeration],
[T

₁W],
[3:4: missing “   ” after ‘₁’ at beginning of line])

AT_NMC_CHECK_TRANSFORM([Three-item definition],
[T

= A. =   1
= B. =   2
= C. =   3],
[  <title>T</title>
  <definitions>
    <item>
      <term>A</term>
      <definition>
        <p>1</p>
      </definition>
    </item>
    <item>
      <term>B</term>
      <definition>
        <p>2</p>
      </definition>
    </item>
    <item>
      <term>C</term>
      <definition>
        <p>3</p>
      </definition>
    </item>
  </definitions>])

AT_NMC_CHECK_FAIL_TRANSFORM([Broken definition],
[T

= A.    1
= B. =   2
= C. =   3],
[3.1-9: missing ending “. =” for term in definition])

AT_NMC_CHECK_FAIL_TRANSFORM([Broken definition 2],
[T

=A. =   1],
[3:1: missing ‘ ’ after ‘=’ at beginning of line])

AT_NMC_CHECK_TRANSFORM([Quote],
[T

> To clique, or not to clique, that is the question:
> Whether ’tis nobler in the mind to suffer
> The slings and arrows of outrageous fortune,
> Or to take arms against a sea of troubles,
> And by opposing end them?],
[  <title>T</title>
  <quote>
    <line>To clique, or not to clique, that is the question:</line>
    <line>Whether ’tis nobler in the mind to suffer</line>
    <line>The slings and arrows of outrageous fortune,</line>
    <line>Or to take arms against a sea of troubles,</line>
    <line>And by opposing end them?</line>
  </quote>])

AT_NMC_CHECK_TRANSFORM([Multi-line quote with attribution],
[T

> Perfection (in design) is achieved not when there is nothing more to
  add, but rather when there is nothing more to take away.
— Antoine de Saint-Exupéry],
[  <title>T</title>
  <quote>
    <line>Perfection (in design) is achieved not when there is nothing more to
  add, but rather when there is nothing more to take away.</line>
    <attribution>Antoine de Saint-Exupéry</attribution>
  </quote>])

AT_NMC_CHECK_FAIL_TRANSFORM([Broken quote],
[T

>W],
[3:1: missing ‘ ’ after ‘>’ at beginning of line])

AT_NMC_CHECK_TRANSFORM([Table],
[T

| A | 1 |
| B | 2 |],
[  <title>T</title>
  <table>
    <body>
      <row>
        <cell>A</cell>
        <cell>1</cell>
      </row>
      <row>
        <cell>B</cell>
        <cell>2</cell>
      </row>
    </body>
  </table>])

AT_NMC_CHECK_TRANSFORM([Table with head],
[T

| A | B |
|---+---|
| 1 | 2 |],
[  <title>T</title>
  <table>
    <head>
      <row>
        <cell>A</cell>
        <cell>B</cell>
      </row>
    </head>
    <body>
      <row>
        <cell>1</cell>
        <cell>2</cell>
      </row>
    </body>
  </table>])

AT_NMC_CHECK_FAIL_TRANSFORM([Broken table],
[T

|W |],
[3:1: missing ‘ ’ after ‘|’ at beginning of line])

AT_NMC_CHECK_TRANSFORM([Figure],
[T

Fig.

                                     a.jpg

                                     Title],
[  <title>T</title>
  <figure>
    <title>Title</title>
    <image>a.jpg</image>
  </figure>])

AT_NMC_CHECK_TRANSFORM([Section],
[T

§ Section

    P],
[  <title>T</title>
  <section>
    <title>Section</title>
    <p>P</p>
  </section>])

AT_NMC_CHECK_TRANSFORM([Two sections],
[T

  0

§ S₁

    1

§ S₂

    2],
[  <title>T</title>
  <p>0</p>
  <section>
    <title>S₁</title>
    <p>1</p>
  </section>
  <section>
    <title>S₂</title>
    <p>2</p>
  </section>])

AT_NMC_CHECK_FAIL_TRANSFORM([Broken section],
[T

§W],
[3:1: missing ‘ ’ after ‘§’ at beginning of line])

AT_NMC_CHECK_FAIL_TRANSFORM([Broken beginning of line],
[T

W],
[3:1: unrecognized character ‘W’ (U+0057) at beginning of line])
