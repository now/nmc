AT_INIT

# AT_TESTED([nmc])

AT_SETUP([Document only consisting of a title])

AT_DATA([title],
[[Title
]])

AT_NMC_CHECK([title],
[[  <title>Title</title>]])

AT_CLEANUP

AT_SETUP([Document only consisting of a title with multiple words])

AT_DATA([title],
[[  Word1   Word2
]])

AT_NMC_CHECK([title],
[[  <title>Word1 Word2</title>]])

AT_CLEANUP

AT_SETUP([Document only consisting of a multi-line title])

AT_DATA([title],
[[  Word1
  Word2
]])

AT_NMC_CHECK([title],
[[  <title>Word1 Word2</title>]])

AT_CLEANUP

AT_SETUP([Document consisting of a title followed by a paragraph])

AT_DATA([title],
[[Title

  Paragraph
]])

AT_NMC_CHECK([title],
[[  <title>Title</title>
  <p>Paragraph</p>]])

AT_CLEANUP

AT_SETUP([Document consisting of a title followed by a multi-line paragraph])

AT_DATA([title],
[[Title

  Line1
  Line2
]])

AT_NMC_CHECK([title],
[[  <title>Title</title>
  <p>Line1 Line2</p>]])

AT_CLEANUP


AT_SETUP([Document consisting of a title followed by two paragraphs])

AT_DATA([title],
[[Title

  Paragraph1

  Paragraph2
]])

AT_NMC_CHECK([title],
[[  <title>Title</title>
  <p>Paragraph1</p>
  <p>Paragraph2</p>]])

AT_CLEANUP

AT_SETUP([Document consisting of a title followed by a section containing a paragraph])

AT_DATA([title],
[[Title

§ Section

    Paragraph
]])

AT_NMC_CHECK([title],
[[  <title>Title</title>
  <section>
    <title>Section</title>
    <p>Paragraph</p>
  </section>]])

AT_CLEANUP

AT_SETUP([Document consisting of a title followed by a section containing two paragraphs])

AT_DATA([title],
[[Title

§ Section

    Paragraph1

    Paragraph2
]])

AT_NMC_CHECK([title],
[[  <title>Title</title>
  <section>
    <title>Section</title>
    <p>Paragraph1</p>
    <p>Paragraph2</p>
  </section>]])

AT_CLEANUP

AT_SETUP([Document consisting of a title followed by a section containing a multi-line paragraph])

AT_DATA([title],
[[Title

§ Section

    Line1
    Line2
]])

AT_NMC_CHECK([title],
[[  <title>Title</title>
  <section>
    <title>Section</title>
    <p>Line1 Line2</p>
  </section>]])

AT_CLEANUP

AT_SETUP([Document consisting of a title followed by two sections])

AT_DATA([title],
[[Title

§ Section1

    Paragraph1

§ Section2

    Paragraph2
]])

AT_NMC_CHECK([title],
[[  <title>Title</title>
  <section>
    <title>Section1</title>
    <p>Paragraph1</p>
  </section>
  <section>
    <title>Section2</title>
    <p>Paragraph2</p>
  </section>]])

AT_CLEANUP

AT_SETUP([Document consisting of a title followed by a paragraph, an enumeration, and a paragraph])

AT_DATA([title],
[[Title

  Paragraph1

• Item1

  Paragraph2
]])

AT_NMC_CHECK([title],
[[  <title>Title</title>
  <p>Paragraph1</p>
  <enumeration>
    <item>
      <p>Item1</p>
    </item>
  </enumeration>
  <p>Paragraph2</p>]])

AT_CLEANUP

AT_SETUP([Document consisting of a title followed by a two-item enumeration])

AT_DATA([title],
[[Title

• Item1
• Item2
]])

AT_NMC_CHECK([title],
[[  <title>Title</title>
  <enumeration>
    <item>
      <p>Item1</p>
    </item>
    <item>
      <p>Item2</p>
    </item>
  </enumeration>]])

AT_CLEANUP

AT_SETUP([Document consisting of a title followed by a two-item enumeration, the first containing two paragraphs])

AT_DATA([title],
[[Title

•   Line1
    Line2

    Paragraph2
•   Item2
]])

AT_NMC_CHECK([title],
[[  <title>Title</title>
  <enumeration>
    <item>
      <p>Line1 Line2</p>
      <p>Paragraph2</p>
    </item>
    <item>
      <p>Item2</p>
    </item>
  </enumeration>]])

AT_CLEANUP

AT_SETUP([Document consisting of a title followed by a paragraph with footnotes])

AT_DATA([title],
[[Title

  Paragraph

¹ Footnote1
² Footnote2
]])

AT_NMC_CHECK([title],
[[  <title>Title</title>
  <footnoted>
    <p>Paragraph</p>
    <footnotes>
      <footnote id="¹">Footnote1</footnote>
      <footnote id="²">Footnote2</footnote>
    </footnotes>
  </footnoted>]])

AT_CLEANUP

AT_SETUP([Document consisting of a title followed by two paragraphs, the last having footnotes])

AT_DATA([title],
[[Title

  Paragraph1

  Paragraph2

¹ Footnote1
² Footnote2
]])

AT_NMC_CHECK([title],
[[  <title>Title</title>
  <p>Paragraph1</p>
  <footnoted>
    <p>Paragraph2</p>
    <footnotes>
      <footnote id="¹">Footnote1</footnote>
      <footnote id="²">Footnote2</footnote>
    </footnotes>
  </footnoted>]])

AT_CLEANUP

AT_SETUP([Document consisting of a title followed by a section containing a paragraph with footnotes])

AT_DATA([title],
[[Title

§ Section

    Paragraph

  ¹ Footnote
]])

AT_NMC_CHECK([title],
[[  <title>Title</title>
  <section>
    <title>Section</title>
    <footnoted>
      <p>Paragraph</p>
      <footnotes>
        <footnote id="¹">Footnote</footnote>
      </footnotes>
    </footnoted>
  </section>]])

AT_CLEANUP

AT_SETUP([Document consisting of a title followed by a section with footnotes])

AT_DATA([title],
[[Title

§ Section

    Paragraph

¹ Footnote
]])

AT_NMC_CHECK([title],
[[  <title>Title</title>
  <footnoted>
    <section>
      <title>Section</title>
      <p>Paragraph</p>
    </section>
    <footnotes>
      <footnote id="¹">Footnote</footnote>
    </footnotes>
  </footnoted>]])

AT_CLEANUP
